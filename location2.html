<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="location.css" />
    <title>Location</title>
  </head>
  
  <body>
    <div id="container1">
			<!-----------------box1------------------->
     		<div class="box1">
       			<p>
        			<img alt="Foodsave" src="imagestore/Screenshot_28.png" width="25%" height="25%"/>  
       			</p>
			</div> 
			
			<!---------------------box2---------------->
			<div class="box2">      
				<p>
					<form action="/action_page.php">
						<input type="search" id="search" name="name" placeholder="Search" autofocus="autofocus"/>
					</form>
			</div>
			
			<!---------------------------box3------------->
      		<div class="box3">
				<div class="dropdown">
					<button class="dropbtn">Account</button>
					<div class="dropdown-content">
						<a href="#">My account</a>
						<a href="location2.html">Location</a>
						<a href="#">Setting</a>
                        <a href="#">Logout</a>
					</div>     
        		</div>
      		</div>
			<!------------------------box4--------------------->
      		<div class="box4">
        		<div class="Cart">
					<a class="Cartbutton" href = "cartpage.html">Cart</a>
        		</div>
      		</div>
   		</div>
    
    <h3>Location</h3>
    <!--The div element for the map -->
    <div id="map"></div>
    <script>
// Initialize and add the map
function initMap() {
  // The location of Uluru
  var uluru = {lat: 49.249, lng: -123.000};
  // The map, centered at Uluru
  var map = new google.maps.Map(
      document.getElementById('map'), {zoom: 4, center: uluru});
  // The marker, positioned at Uluru
  var marker = new google.maps.Marker({position: uluru, map: map});
}

// Google Maps Searchbar API
// This example adds a search box to a map, using the Google Place Autocomplete
// feature. People can enter geographical searches. The search box will return a
// pick list containing a mix of places and predicted search terms.

// This example requires the Places library. Include the libraries=places
// parameter when you first load the API. For example:
// <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgRvKyAkykqKnfxawehluc42-3r6ICYZ8&libraries=places">

  function initAutocomplete() {
  var map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: -33.8688, lng: 151.2195},
    zoom: 13,
    mapTypeId: 'roadmap'
  });

  // Create the search box and link it to the UI element.
  var input = document.getElementById('pac-input');
  var searchBox = new google.maps.places.SearchBox(input);
  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

  // Bias the SearchBox results towards current map's viewport.
  map.addListener('bounds_changed', function() {
    searchBox.setBounds(map.getBounds());
  });

  var markers = [];
  // Listen for the event fired when the user selects a prediction and retrieve
  // more details for that place.
  searchBox.addListener('places_changed', function() {
    var places = searchBox.getPlaces();

    if (places.length == 0) {
      return;
    }

    // Clear out the old markers.
    markers.forEach(function(marker) {
      marker.setMap(null);
    });
    markers = [];

    // For each place, get the icon, name and location.
    var bounds = new google.maps.LatLngBounds();
    places.forEach(function(place) {
      if (!place.geometry) {
        console.log("Returned place contains no geometry");
        return;
      }
      var icon = {
        url: place.icon,
        size: new google.maps.Size(71, 71),
        origin: new google.maps.Point(0, 0),
        anchor: new google.maps.Point(17, 34),
        scaledSize: new google.maps.Size(25, 25)
      };

      // Create a marker for each place.
      markers.push(new google.maps.Marker({
        map: map,
        icon: icon,
        title: place.name,
        position: place.geometry.location
      }));

      if (place.geometry.viewport) {
        // Only geocodes have viewport.
        bounds.union(place.geometry.viewport);
      } else {
        bounds.extend(place.geometry.location);
      }
    });
    map.fitBounds(bounds);
  });
}
    </script>

<input id="pac-input" class="controls" type="text" placeholder="Search Box">
<div id="map"></div>

<!-- Google Maps Searchbar API -->

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgRvKyAkykqKnfxawehluc42-3r6ICYZ8&libraries=places&callback=initAutocomplete">
    </script>

<!-- Google Maps API -->

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgRvKyAkykqKnfxawehluc42-3r6ICYZ8&callback=initMap">
    </script>
  </body>
</html>